@startuml
title Διάγραμμα Δραστηριοτήτων - Κράτηση Εισιτηρίων (2η έκδοση)

start
:Χρήστης επιλέγει προβολή και θέσεις;
:Υπολογισμός συνολικού ποσού;

:Εισαγωγή στοιχείων πληρωμής (π.χ. token, στοιχεία κάρτας);
:Αποστολή αίτησης πληρωμής;

:Επεξεργασία πληρωμής από Payment Gateway;
if (Πληρωμή επιτυχής;) then (ΝΑΙ)
  :Αποθήκευση κράτησης στη βάση δεδομένων;
  :Αποστολή επιβεβαίωσης κράτησης στον χρήστη;
else (ΟΧΙ)
  :Εμφάνιση μηνύματος αποτυχίας πληρωμής;
endif

stop
@enduml
